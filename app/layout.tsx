import ".//globals.css";
import Providers from "./providers";
import Navbar from "../components/Navbar";
import Box from "@mui/material/Box";
import Typography from "@mui/material/Typography";
import {getCookie} from "./actions";
import {use} from "react";

export const metadata = {
  title: 'Next.js',
  description: 'Generated by Next.js',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {

    async function loggedIn() {
        const cookie = await getCookie('authorization');

        return !!cookie?.value
    }

    return (
    <html lang="en">
    <head>
        <title>Legion Events</title>
    </head>
    <body className="mb-24 bg-white">
    <Providers>
        <Box className="flex flex-col">
            <Navbar isLoggedIn={use(loggedIn())}/>
            {children}
        </Box>
    </Providers>
    <footer>
        <Box className="flex justify-center">
            <Typography variant={"caption"} textAlign={"center"}>
                Â© 2025 Legion Events AUS
            </Typography>
        </Box>
    </footer>
    </body>
    </html>

  )
}
